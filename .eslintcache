[{"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\index.js":"1","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\reportWebVitals.js":"2","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\App.js":"3","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\pages\\Home.js":"4","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\Header.js":"5","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\Footer.js":"6","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\Map.js":"7","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\RestaurantList.js":"8","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\context.js":"9","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\reducer.js":"10","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\pages\\Restaurant.js":"11","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\ReviewForm.js":"12","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\RestaurantForm.js":"13"},{"size":833,"mtime":1613079128000,"results":"14","hashOfConfig":"15"},{"size":362,"mtime":499162500000,"results":"16","hashOfConfig":"15"},{"size":481,"mtime":1615310712000,"results":"17","hashOfConfig":"15"},{"size":635,"mtime":1615317132000,"results":"18","hashOfConfig":"15"},{"size":948,"mtime":1614963004000,"results":"19","hashOfConfig":"15"},{"size":250,"mtime":1614719536000,"results":"20","hashOfConfig":"15"},{"size":4110,"mtime":1615440718000,"results":"21","hashOfConfig":"15"},{"size":2495,"mtime":1615440814000,"results":"22","hashOfConfig":"15"},{"size":137,"mtime":1615392612000,"results":"23","hashOfConfig":"15"},{"size":502,"mtime":1615396288000,"results":"24","hashOfConfig":"15"},{"size":5280,"mtime":1615440806000,"results":"25","hashOfConfig":"15"},{"size":2593,"mtime":1615440796000,"results":"26","hashOfConfig":"15"},{"size":2413,"mtime":1615440946000,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"1peeqaj",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"43","usedDeprecatedRules":"30"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\index.js",[],["56","57"],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\reportWebVitals.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\App.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\pages\\Home.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\Header.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\Footer.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\Map.js",["58"],"import { useEffect, useRef, useContext, useState } from 'react';\r\nimport React from 'react';\r\nimport Context from '../context';\r\nimport googleMapIcon from 'google-maps-icons';\r\nimport RestaurantForm from './RestaurantForm';\r\n\r\nfunction Map() {\r\n  const mapRef = useRef();\r\n\r\n  const { dispatch, state } = useContext(Context);\r\n  const [restaurant, setRestaurant] = useState({});\r\n  const [mapElm, setMapElm] = useState(null);\r\n  const [markers, setMarkers] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const map = new window.google.maps.Map(mapRef.current, {\r\n      center: { lat: 0, lng: 0 },\r\n      zoom: 15,\r\n    });\r\n\r\n    setMapElm(map);\r\n    const mapCanvas = document.getElementById('map_canvas');\r\n\r\n    mapCanvas.addEventListener('contextmenu', (e) => {\r\n      e.preventDefault();\r\n    });\r\n\r\n    window.google.maps.event.addListener(map, 'rightclick', (event) => {\r\n      const lat = event.latLng.lat();\r\n      const lng = event.latLng.lng();\r\n      // .on (eventos [, selector] [, datos], controlador)\r\n\r\n      setRestaurant({\r\n        geometry: {\r\n          location: {\r\n            lat,\r\n            lng,\r\n          },\r\n        },\r\n      });\r\n    });\r\n\r\n    navigator.geolocation.getCurrentPosition(({ coords }) => {\r\n      const position = {\r\n        lat: coords.latitude,\r\n        lng: coords.longitude,\r\n      };\r\n      map.setCenter(position);\r\n\r\n      new window.google.maps.Marker({ position, map });\r\n\r\n      const service = new window.google.maps.places.PlacesService(map);\r\n      service.nearbySearch(\r\n        {\r\n          location: position,\r\n          radius: '5000',\r\n          type: ['restaurant'],\r\n        },\r\n        (results, status) => {\r\n          if (status === 'OK') {\r\n            dispatch({ type: 'UPDATE_RESTAURANTS', payload: results });\r\n          }\r\n        }\r\n      );\r\n    });\r\n  }, [dispatch]);\r\n\r\n  useEffect(() => {\r\n    let markersArr = [];\r\n\r\n    if (state.filtering && state.filtered.length === 0) {\r\n      removeMarkers();\r\n    } else {\r\n      const restaurants =\r\n        state.filtered.length > 0 ? state.filtered : state.restaurants;\r\n\r\n      removeMarkers();\r\n\r\n      restaurants.map((r) => {\r\n        const marker = createMarker(r);\r\n        return (markersArr = [...markersArr, marker]);\r\n      });\r\n\r\n      setMarkers(markersArr);\r\n    }\r\n  }, [state.restaurants, state.filtered, state.filtering]);\r\n\r\n  const removeMarkers = () => {\r\n    setMarkers([]);\r\n    markers.map((m) => {\r\n      return m.setMap(null);\r\n    });\r\n  };\r\n\r\n  const createMarker = (place) => {\r\n    if (place.geometry) {\r\n      // icon options for Marker\r\n      const options = { scale: 1.5, color: 'ff9e67' };\r\n      const iconUrl = googleMapIcon('restaurant', options);\r\n\r\n      const position = {\r\n        lat: place.place_id\r\n          ? place.geometry.location.lat()\r\n          : place.geometry.location.lat,\r\n        lng: place.place_id\r\n          ? place.geometry.location.lng()\r\n          : place.geometry.location.lng,\r\n      };\r\n\r\n      const marker = new window.google.maps.Marker({\r\n        map: mapElm,\r\n        position,\r\n        animation: window.google.maps.Animation.DROP,\r\n        title: place.name,\r\n        icon: iconUrl,\r\n      });\r\n\r\n      const contentString = `<div id=\"content\"> \r\n        <h3>${place.name}</h3> \r\n        <p>${place.vicinity}</p>\r\n        </div>`;\r\n\r\n      const infowindow = new window.google.maps.InfoWindow({\r\n        content: contentString,\r\n      });\r\n\r\n      marker.addListener('click', () => {\r\n        infowindow.open(mapElm, marker);\r\n      });\r\n\r\n      return marker;\r\n    }\r\n  };\r\n\r\n  const addRestaurant = (data) => {\r\n    const newRestaurant = { ...data, ...restaurant };\r\n\r\n    dispatch({\r\n      type: 'UPDATE_RESTAURANTS',\r\n      payload: [newRestaurant, ...state.restaurants],\r\n    });\r\n\r\n    setRestaurant({});\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div id=\"map_canvas\">\r\n        {restaurant.geometry && (\r\n          <RestaurantForm submit={addRestaurant} close={setRestaurant} />\r\n        )}\r\n        <div style={{ height: 'calc(100vh - 57px - 56px)' }} ref={mapRef} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Map;\r\n","E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\RestaurantList.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\context.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\reducer.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\pages\\Restaurant.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\ReviewForm.js",[],"E:\\Archivos\\Respaldo\\11-19-20\\desktop\\Beca_Facebook_Developer_Circle\\Front end Developer\\7.Launch your own restaurant review site\\P7_jesrig\\P7_01_HTML_CSS_JS\\project-7\\src\\components\\RestaurantForm.js",[],{"ruleId":"59","replacedBy":"60"},{"ruleId":"61","replacedBy":"62"},{"ruleId":"63","severity":1,"message":"64","line":86,"column":6,"nodeType":"65","endLine":86,"endColumn":58,"suggestions":"66"},"no-native-reassign",["67"],"no-negated-in-lhs",["68"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'createMarker' and 'removeMarkers'. Either include them or remove the dependency array.","ArrayExpression",["69"],"no-global-assign","no-unsafe-negation",{"desc":"70","fix":"71"},"Update the dependencies array to be: [state.restaurants, state.filtered, state.filtering, removeMarkers, createMarker]",{"range":"72","text":"73"},[2300,2352],"[state.restaurants, state.filtered, state.filtering, removeMarkers, createMarker]"]